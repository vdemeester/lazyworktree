.TH LAZYWORKTREE 1 "January 2026" "lazyworktree" "User Commands"
.SH NAME
lazyworktree \- A TUI tool to manage git worktrees
.SH SYNOPSIS
.B lazyworktree
[\fIOPTIONS\fR]
.SH DESCRIPTION
lazyworktree is a BubbleTea-based Terminal User Interface (TUI) designed for efficient Git worktree management. It enables you to visualize the repository's status, oversee branches, and navigate between worktrees with ease.
.SH FEATURES
.IP \(bu 2
Worktree Management: Create, rename, delete, absorb, and prune merged worktrees
.IP \(bu 2
Cherry-pick Commits: Copy commits from one worktree to another via an interactive worktree picker
.IP \(bu 2
Commit Log Details: Log pane shows author initials alongside commit subjects
.IP \(bu 2
Base Selection: Select a base branch or commit from a list, or enter a reference when creating a worktree
.IP \(bu 2
Forge Integration: Fetch and display associated Pull Request (GitHub) or Merge Request (GitLab) status and CI checks with Nerd Font v3 icons when enabled
.IP \(bu 2
Create from PR/MR: Establish worktrees directly from open pull or merge requests via the create worktree menu (c)
.IP \(bu 2
Create from Issue: Establish worktrees from GitHub/GitLab issues with automatic branch name generation
.IP \(bu 2
Status at a Glance: View dirty state, ahead/behind counts, and divergence from main
.IP \(bu 2
Tmux Integration: Create and manage tmux sessions per worktree with multi-window support
.IP \(bu 2
Zellij Integration: Create and manage zellij sessions per worktree with multi-tab support
.IP \(bu 2
Diff Viewer: View diff with optional delta support
.IP \(bu 2
Repo Automation: \fB.wt\fR init/terminate commands with TOFU security
.IP \(bu 2
LazyGit Integration: Launch lazygit directly for the currently selected worktree
.SH OPTIONS
.TP
.B \-\-worktree\-dir \fIDIR\fR
Override the default worktree root directory (default: ~/.local/share/worktrees)
.TP
.B \-\-theme \fINAME\fR
Select a UI theme (dracula, dracula-light, narna, clean-light, catppuccin-latte, rose-pine-dawn, one-light, everforest-light, solarized-dark, solarized-light, gruvbox-dark, gruvbox-light, nord, monokai, catppuccin-mocha). If unspecified, lazyworktree attempts to auto-detect the theme based on the terminal's background color (defaulting to dracula for dark or dracula-light for light).
.TP
.B \-\-show\-syntax\-themes
Display the default delta syntax-theme values for each UI theme
.TP
.B \-\-search\-auto\-select
Start with filter focused
.TP
.B \-\-output\-selection \fIFILE\fR
Write the selected worktree path to FILE on exit (for shell integration)
.SH KEY BINDINGS
.TP
.B Enter
Jump to worktree (exit and cd), open commit file tree in log pane
.TP
.B c
Create new worktree (from branch, commit, PR/MR, or issue)
.TP
.B m
Rename selected worktree
.TP
.B D
Delete selected worktree
.TP
.B d
View diff in pager
.TP
.B e
Open selected file in Status pane using editor
.SH STATUS PANE
The Status pane displays changed files in a collapsible tree view, grouped by directory. Directories are shown with expand/collapse indicators (▼/▶) and can be toggled with Enter. Files are sorted alphabetically within each directory level and include Nerd Font v3 icons when enabled (set show_icons: false to disable).
.TP
.B j, k
Navigate between files and directories in the tree
.TP
.B Enter
Toggle directory expand/collapse, or show diff for selected file
.TP
.B s
Stage/unstage selected file or directory
.TP
.B D
Delete selected file or directory (with confirmation)
.TP
.B c
Commit staged changes
.TP
.B C
Stage all changes and commit
.TP
.B A
Absorb worktree into main
.TP
.B X
Prune merged worktrees
.TP
.B !
Run arbitrary command in selected worktree
.TP
.B p
Fetch PR/MR status (also refreshes CI checks)
.TP
.B o
Open PR/MR in browser
.TP
.B ctrl+p, :
Command palette
.TP
.B g
Open LazyGit
.TP
.B r
Refresh list
.TP
.B R
Fetch all remotes
.TP
.B f
Filter focused pane (worktrees, files, commits). When a filter is active, the pane title shows a filter indicator with [Esc] Clear hint.
.TP
.B Esc
Clear filter for focused pane (when filter is active)
.TP
.B /
Search focused pane (incremental)
.TP
.B n, N
Next or previous search match
.TP
.B s
Cycle sort mode (Path / Last Active / Last Switched)
.TP
.B Home
Go to first item in focused pane
.TP
.B End
Go to last item in focused pane
.TP
.B ctrl+Left, ctrl+Right
Jump to previous/next folder (Status pane only)
.TP
.B ?
Show help
.TP
.B =
Toggle zoom for focused pane (full screen, press again to unzoom)
.TP
.B ctrl+j
Move to next commit and open commit file tree in log pane
.SH COMMIT FILE TREE
When pressing Enter on a commit in the log pane, a file tree view opens showing all files changed in that commit. The tree is collapsible by directory and includes Nerd Font v3 icons when enabled (set show_icons: false to disable).
.TP
.B j, k
Navigate between files and directories in the tree
.TP
.B Enter
Toggle directory expand/collapse, or show diff for selected file
.TP
.B d
Show full commit diff in pager
.TP
.B f
Filter files by name
.TP
.B /
Search files (incremental)
.TP
.B n, N
Next or previous search match
.TP
.B q, Esc
Return to commit log
.SH SHELL INTEGRATION
To enable the "jump" functionality, source the helper functions from the installation:

For source builds:
.nf
source /path/to/lazyworktree/shell/functions.shell
jt() { worktree_jump ~/path/to/your/main/repo "$@"; }
.fi

For Homebrew:
.nf
source $(brew --prefix)/opt/lazyworktree/share/lazyworktree/functions.shell
jt() { worktree_jump ~/path/to/your/main/repo "$@"; }
.fi

With completion:
.nf
_jt() { _worktree_jump ~/path/to/your/main/repo; }
compdef _jt jt
.fi
.SH CONFIGURATION
lazyworktree reads configuration from \fB~/.config/lazyworktree/config.yaml\fR (or \fBconfig.yml\fR). The following configuration options are available:
.TP
.B worktree_dir
Default worktree root directory (default: ~/.local/share/worktrees). Can be overridden with \fB--worktree-dir\fR. Worktrees are organized under ~/.local/share/worktrees/<repo_name> by default. The application attempts to resolve repository locations via \fBgh repo view\fR or \fBglab repo view\fR. If the repository name is not detectable, lazyworktree falls back to a local \fBlocal-<hash>\fR key for cache and last-selected storage.
.TP
.B sort_mode
Default sort order for worktrees. Options: \fBpath\fR (alphabetical), \fBactive\fR (last commit date), \fBswitched\fR (last accessed, default). The old \fBsort_by_active\fR option is still supported for backwards compatibility.
.TP
.B auto_fetch_prs
Automatically fetch PR/MR data on startup (default: false).
.TP
.B show_icons
Toggle Nerd Font v3 icons in file trees, PR views, and CI checks (default: true).
.TP
.B search_auto_select
Start with filter focused and select first match on Enter (default: false). Can also be enabled with \fB--search-auto-select\fR.
.TP
.B fuzzy_finder_input
Enable fuzzy finder suggestions in input dialogs. When enabled, typing in text input fields displays fuzzy-filtered suggestions from available options. Use arrow keys to navigate suggestions and Enter to select (default: false).
.TP
.B max_untracked_diffs
Maximum number of untracked file diffs to show (default: 10). Set to 0 to hide untracked diffs.
.TP
.B max_diff_chars
Maximum characters to display in diffs before truncation (default: 200000). Set to 0 to disable truncation.
.TP
.B theme
UI color theme. Options: \fBdracula\fR (default for dark), \fBdracula-light\fR (default for light), \fBnarna\fR, \fBclean-light\fR, \fBcatppuccin-latte\fR, \fBrose-pine-dawn\fR, \fBone-light\fR, \fBeverforest-light\fR, \fBsolarized-dark\fR, \fBsolarized-light\fR, \fBgruvbox-dark\fR, \fBgruvbox-light\fR, \fBnord\fR, \fBmonokai\fR, \fBcatppuccin-mocha\fR. If left empty or unspecified, the theme is auto-detected from the terminal background. Can also be set with \fB--theme\fR.
.TP
.B delta_path
Path to delta executable (default: \fBdelta\fR). Set to empty string to disable delta and use plain git diff output.
.TP
.B pager
Pager command for show_output custom commands and diff viewer (default: $PAGER, fallback: less --use-color --wordwrap -qcR -P 'Press q to exit..', then more, then cat). When the pager is less, lazyworktree configures LESS= and LESSHISTFILE=- to ignore user defaults.
.TP
.B editor
Editor command for Status pane file edits (default: config value, then $EDITOR, then nvim, then vi).
.TP
.B delta_args
List of extra arguments passed to delta for diff rendering. If omitted, lazyworktree picks a syntax theme matching your UI theme. Default mappings: dracula → Dracula, dracula-light → Monokai Extended Light, narna → OneHalfDark, clean-light → GitHub, catppuccin-latte → Catppuccin Latte, rose-pine-dawn → GitHub, one-light → OneHalfLight, everforest-light → Gruvbox Light, solarized-dark → Solarized (dark), solarized-light → Solarized (light), gruvbox-dark → Gruvbox Dark, gruvbox-light → Gruvbox Light, nord → Nord, monokai → Monokai Extended, catppuccin-mocha → Catppuccin Mocha. Use \fB--show-syntax-themes\fR to display default values.
.TP
.B trust_mode
Security setting for executing commands from .wt files. Options: \fBtofu\fR (default - prompts on first use/change), \fBnever\fR (never run commands), \fBalways\fR (always run without prompting, risky).
.TP
.B merge_method
Merge method for "Absorb worktree" action. Options: \fBrebase\fR (default - rebases onto main then fast-forwards), \fBmerge\fR (creates merge commit).
.TP
.B branch_name_script
Script to generate branch name suggestions when creating worktrees from changes. The script receives the git diff on stdin and should output a branch name (first line is used). Useful for AI-powered branch name generation. Script operates under a 30-second timeout.
.TP
.B init_commands
List of commands to execute when creating a worktree. These execute before any repository-specific .wt commands (if present). Available environment variables: WORKTREE_BRANCH, MAIN_WORKTREE_PATH, WORKTREE_PATH, WORKTREE_NAME. Special built-in command: \fBlink_topsymlinks\fR (not a shell command) symlinks untracked/ignored files from main worktree root, editor configs (.vscode, .idea, .cursor, .claude), ensures tmp/ directory exists, and runs direnv allow if .envrc is present.
.TP
.B terminate_commands
List of commands to execute when removing a worktree. These execute before any repository-specific .wt commands (if present). Same environment variables as init_commands.
.TP
.B custom_commands
Custom keybindings to run commands in the selected worktree. Commands execute interactively (TUI suspends, like lazygit) and appear in the command palette. Custom commands take precedence over built-in keys.

Each custom command supports the following fields:
.RS
.IP \(bu 2
\fBcommand\fR: The command to execute (required, unless using tmux/zellij)
.IP \(bu 2
\fBdescription\fR: Description shown in help screen and command palette (optional)
.IP \(bu 2
\fBshow_help\fR: Show in help screen and footer hints (default: false)
.IP \(bu 2
\fBwait\fR: Wait for key press after command completes (default: false, useful for quick commands)
.IP \(bu 2
\fBshow_output\fR: Run non-interactively and show stdout/stderr in the pager (default: false, ignores wait)
.IP \(bu 2
\fBtmux\fR: Configure a tmux session instead of executing a single command (object, optional)
.IP \(bu 2
\fBzellij\fR: Configure a zellij session instead of executing a single command (object, optional)
.RE

Supported key formats: single keys (e, s, t), modifier combinations (ctrl+e, alt+t), special keys (enter, esc, tab, space).

Environment variables available in custom commands: WORKTREE_BRANCH, MAIN_WORKTREE_PATH, WORKTREE_PATH, WORKTREE_NAME, REPO_NAME.

For tmux sessions, the following fields are available:
.RS
.IP \(bu 2
\fBsession_name\fR: tmux session name, supports env vars (default: ${REPO_NAME}_wt_$WORKTREE_NAME)
.IP \(bu 2
\fBattach\fR: If true, attach/switch immediately; if false, show info modal (default: true)
.IP \(bu 2
\fBon_exists\fR: Behavior if session exists: switch, attach, kill, new (default: switch)
.IP \(bu 2
\fBwindows\fR: List of window definitions. Each window has: name (supports env vars), command (empty uses default shell), cwd (default: $WORKTREE_PATH). If omitted, creates a single shell window.
.RE

For zellij sessions, the following fields are available:
.RS
.IP \(bu 2
\fBsession_name\fR: zellij session name, supports env vars (default: ${REPO_NAME}_wt_$WORKTREE_NAME). Note: zellij session names cannot include / or \\, so lazyworktree replaces them with -.
.IP \(bu 2
\fBattach\fR: If true, attach immediately; if false, show info modal (default: true)
.IP \(bu 2
\fBon_exists\fR: Behavior if session exists: switch, attach, kill, new (default: switch)
.IP \(bu 2
\fBwindows\fR: List of tab definitions. Each tab has: name (supports env vars), command (empty uses default shell), cwd (default: $WORKTREE_PATH). If omitted, creates a single shell tab.
.RE
.SH PREREQUISITES
.IP \(bu 2
Git 2.31+ (recommended)
.IP \(bu 2
Forge CLI: GitHub CLI (gh) or GitLab CLI (glab) for repo resolution and PR/MR status

.SH OPTIONAL DEPENDENCIES
.IP \(bu 2
delta \- For syntax-highlighted diffs
.IP \(bu 2
lazygit \- For full TUI git control
.IP \(bu 2
tmux \- For tmux integration support
.IP \(bu 2
zellij \- For zellij integration support
.SH EXAMPLES
.TP
Open lazyworktree:
.nf
lazyworktree
.fi
.TP
Specify custom worktree directory:
.nf
lazyworktree --worktree-dir ~/my-worktrees
.fi
.TP
Select a theme:
.nf
lazyworktree --theme nord
.fi
.TP
Use with shell function for "jump" functionality:
.nf
jt  # Opens TUI, select a worktree and press Enter to jump
.fi
.SH ENVIRONMENT
The following environment variables affect lazyworktree's behavior when used with custom commands:
.IP \(bu 2
WORKTREE_BRANCH \- Name of the git branch
.IP \(bu 2
MAIN_WORKTREE_PATH \- Path to the main repository
.IP \(bu 2
WORKTREE_PATH \- Path to the selected worktree
.IP \(bu 2
WORKTREE_NAME \- Name of the worktree (directory name)
.IP \(bu 2
REPO_NAME \- Name of the repository (from GitHub/GitLab)
.SH CONFIGURATION FILES
.TP
.B ~/.config/lazyworktree/config.yaml
Main configuration file
.TP
.B ~/.local/share/lazyworktree/trusted.json
Trust on First Use (TOFU) trusted file hashes
.TP
.B ~/.local/share/worktrees/<repo-name>/
Default worktree storage location
.SH SEE ALSO
.BR git-worktree (1),
.BR lazygit (1),
.BR tmux (1),
.BR zellij (1),
.BR delta (1)
.SH AUTHOR
Chmouel Boudjnah <chmouel@chmouel.com>
.SH COPYRIGHT
Apache License 2.0
.SH REPORTING BUGS
Report bugs at https://github.com/chmouel/lazyworktree/issues
